; PlatformIO Configuration for ArduiBeeScale ESP32 Edition
;
; Alternative to Arduino IDE - offers better dependency management
;
; Usage:
;   1. Install PlatformIO: https://platformio.org/install
;   2. Open this folder in VS Code with PlatformIO extension
;   3. Copy config_template.h to config.h and edit settings
;   4. Click "Upload" in PlatformIO toolbar

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor speed
monitor_speed = 115200

; Upload speed (reduce if upload fails)
upload_speed = 921600

; Libraries
lib_deps =
    knolleary/PubSubClient@^2.8
    bblanchon/ArduinoJson@^7.0.0
    adafruit/DHT sensor library@^1.4.6
    adafruit/Adafruit Unified Sensor@^1.1.14
    bogde/HX711@^0.7.5
    marcoschwartz/LiquidCrystal_I2C@^1.1.4  ; LCD 1602 I2C display (optional)

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DBOARD_HAS_PSRAM=0

; Partition scheme (default 4MB with SPIFFS)
board_build.partitions = default.csv

; Flash settings
board_build.flash_mode = qio
board_build.f_flash = 80000000L

; Extra script for OTA updates (optional)
; extra_scripts = post:ota_update.py

[env:esp32dev-debug]
; Debug build with serial output
extends = env:esp32dev
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DDEBUG_ENABLED=true

[env:esp32dev-ota]
; Over-the-Air update configuration (advanced)
extends = env:esp32dev
upload_protocol = espota
upload_port = beehive-hive01.local  ; mDNS name of your ESP32
upload_flags =
    --port=3232
    --auth=your_ota_password
