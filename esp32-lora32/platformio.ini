; PlatformIO Configuration for ArduiBeeScale LoRa32 Edition
; Board: DollaTek WiFi LoRa 32 868MHz / Heltec WiFi LoRa 32 V2
;
; To use:
; 1. Install PlatformIO IDE extension in VS Code
; 2. Open this folder in VS Code
; 3. Copy config_template.h to config.h and edit your settings
; 4. Click "Build" or "Upload" in PlatformIO toolbar

[env:heltec_wifi_lora_32_V2]
platform = espressif32
board = heltec_wifi_lora_32_V2
framework = arduino

; Serial monitor speed
monitor_speed = 115200

; Upload speed (can increase if stable)
upload_speed = 921600

; Partition scheme with OTA support
board_build.partitions = min_spiffs.csv

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DDEBUG_ENABLED=1
    ; LoRa32 specific defines
    -DHELTEC_BOARD=1
    -DOLED_ENABLED=1

; Required libraries
lib_deps =
    ; MQTT client
    knolleary/PubSubClient@^2.8
    ; JSON parsing
    bblanchon/ArduinoJson@^6.21.3
    ; Temperature/humidity sensor
    adafruit/DHT sensor library@^1.4.4
    adafruit/Adafruit Unified Sensor@^1.1.9
    ; Load cell amplifier
    bogde/HX711@^0.7.5
    ; OLED display (SSD1306)
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5

; Alternative board definitions if heltec_wifi_lora_32_V2 doesn't work:
;
; [env:heltec_wifi_lora_32]
; board = heltec_wifi_lora_32
;
; [env:ttgo_lora32_v1]
; board = ttgo-lora32-v1
;
; [env:generic_esp32]
; board = esp32dev
; build_flags =
;     -DCORE_DEBUG_LEVEL=0
;     -DDEBUG_ENABLED=1
;     -DOLED_ENABLED=1

; Production build (disable debug, optimize for size)
[env:heltec_wifi_lora_32_V2_release]
platform = espressif32
board = heltec_wifi_lora_32_V2
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.partitions = min_spiffs.csv

build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DDEBUG_ENABLED=0
    -DHELTEC_BOARD=1
    -DOLED_ENABLED=1
    -Os

lib_deps =
    knolleary/PubSubClient@^2.8
    bblanchon/ArduinoJson@^6.21.3
    adafruit/DHT sensor library@^1.4.4
    adafruit/Adafruit Unified Sensor@^1.1.9
    bogde/HX711@^0.7.5
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5
